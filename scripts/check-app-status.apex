// Check the current status of custom app and list views
System.debug('=== CUSTOM APP & LIST VIEW STATUS CHECK ===');

// 1. Check current user and permissions
User currentUser = [SELECT Id, Name, Profile.Name FROM User WHERE Id = :UserInfo.getUserId()];
System.debug('üë§ Current User: ' + currentUser.Name + ' (' + currentUser.Profile.Name + ')');

// 2. Check permission set assignments
List<PermissionSetAssignment> permSets = [
    SELECT PermissionSet.Name, PermissionSet.Label 
    FROM PermissionSetAssignment 
    WHERE AssigneeId = :UserInfo.getUserId()
    AND PermissionSet.Name = 'Job_Application_Manager'
];
System.debug('üîê Job Application Manager Assigned: ' + (permSets.size() > 0 ? '‚úÖ YES' : '‚ùå NO'));

// 3. Check Job Application object access
try {
    List<Job_Application__c> testRecords = [SELECT Id, Name, Company_Name__c, Status__c FROM Job_Application__c LIMIT 5];
    System.debug('üìä Job Application Records Found: ' + testRecords.size());
    
    if (testRecords.size() > 0) {
        System.debug('üìã Sample Records:');
        for (Job_Application__c app : testRecords) {
            System.debug('  ‚Ä¢ ' + app.Name + ' - ' + app.Company_Name__c + ' (' + app.Status__c + ')');
        }
    } else {
        System.debug('‚ö†Ô∏è No Job Application records found - create some test data');
    }
} catch (Exception e) {
    System.debug('‚ùå Error accessing Job Applications: ' + e.getMessage());
}

// 4. Check if we can create records (permission test)
try {
    Job_Application__c testApp = new Job_Application__c(
        Company_Name__c = 'Test Company',
        Position_Title__c = 'Test Position',
        Status__c = 'Saved'
    );
    
    // Don't actually insert, just check if we can
    System.debug('‚úÖ Can create Job Application records: YES');
} catch (Exception e) {
    System.debug('‚ùå Cannot create Job Application records: ' + e.getMessage());
}

// 5. Provide troubleshooting guidance
System.debug('');
System.debug('üîß TROUBLESHOOTING GUIDANCE:');
System.debug('');

System.debug('üì± CUSTOM APP ISSUES:');
System.debug('‚Ä¢ If you see "Job Applications" as an ITEM (not APP) in App Launcher:');
System.debug('  - This is the TAB, not the custom app');
System.debug('  - Custom apps can take 10-15 minutes to appear after deployment');
System.debug('  - Try refreshing browser or logging out/in');
System.debug('  - Check Setup ‚Üí Apps ‚Üí App Manager for "Job Application Tracker"');
System.debug('');

System.debug('üìã LIST VIEW ISSUES:');
System.debug('‚Ä¢ If list views are empty or poorly formatted:');
System.debug('  - Go to Job Applications tab');
System.debug('  - Click dropdown next to "Recently Viewed"');
System.debug('  - Look for: All Job Applications, Active Applications, Interviewing, etc.');
System.debug('  - If not visible, list views may still be deploying');
System.debug('');

System.debug('üéØ IMMEDIATE ACTIONS:');
System.debug('1. ‚úÖ Use Job Applications tab directly (works immediately)');
System.debug('2. ‚úÖ Create test records to verify functionality');
System.debug('3. ‚úÖ Check list view dropdown for new views');
System.debug('4. ‚è∞ Wait for custom app to appear (can take time)');
System.debug('');

System.debug('üöÄ TEAM COMMUNICATION:');
System.debug('Tell Mike and Mark:');
System.debug('"The Job Applications functionality is working! You can access it via:');
System.debug('1. Job Applications tab (immediate access)');
System.debug('2. App Launcher ‚Üí Job Application Tracker (may take 10-15 min to appear)');
System.debug('3. Global search for Job Application records"');
System.debug('');

System.debug('üí° REMEMBER:');
System.debug('‚Ä¢ Functionality works regardless of app visibility');
System.debug('‚Ä¢ List views provide organized data views');
System.debug('‚Ä¢ Custom app provides better user experience when it appears');
System.debug('‚Ä¢ All features (creation, editing, automation) work immediately');
System.debug('');

System.debug('=== STATUS CHECK COMPLETE ===');
